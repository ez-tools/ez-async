!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ez-async=t()}(this,function(){"use strict";function e(e){return function(){var t=Array.prototype.slice.call(arguments);return new Promise(function(n,o){function a(e){if(l++,null==e){if(1===l)return function(){l--,r(i.next(Array.prototype.slice.call(arguments)))};i.throw("You may either request several named callbacks or one unnamed callback!")}else{if(null==c[e])return function(){l--,c[e]=Array.prototype.slice.call(arguments),0===l&&(r(i.next(c)),c={})};i.throw("You already used that callback namespace! You need to `yield` first!")}}function r(e){e.done?n(e.value):e.value instanceof Promise?(l>0&&i.throw("You already requested callbacks. You must first await the callbacks before you can yield a promise!"),e.value.then(function(e){r(i.next([null,e]))},function(e){r(i.next([e||"Promise was rejected"]))})):0===l&&i.throw("This object is not yield-able, also you did not request any callbacks!")}var l=0,c={},i=e.apply(this,[a].concat(t));r(i.next())})}}return e});
//# sourceMappingURL=ez-async.umd.js.map
